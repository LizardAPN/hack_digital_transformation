# Директория скриптов

Эта директория содержит вспомогательные скрипты для автоматизации общих задач в жизненном цикле ML проекта.

## Структура файлов

- `setup_environment.sh` - Скрипт настройки окружения
- Дополнительные bash/python скрипты для автоматизации проекта

## Доступные скрипты

### setup_environment.sh

Настраивает среду разработки со всеми необходимыми зависимостями.

**Использование:**
```bash
chmod +x scripts/setup_environment.sh
./scripts/setup_environment.sh
```

**Что делает:**
1. Проверяет установлен ли UV, устанавливает если отсутствует
2. Создает виртуальное окружение
3. Устанавливает зависимости проекта из pyproject.toml
4. Настраивает pre-commit хуки (если сконфигурированы)

**Настройка:**
Вы можете модифицировать этот скрипт чтобы:
- Изменить версию Python
- Добавить дополнительные шаги настройки
- Интегрировать с другими инструментами (Docker, conda, и т.д.)

## Лучшие практики для добавления скриптов

1. **Соглашение об именовании**: Используйте описательные имена с подчеркиваниями для разделения слов
   - ✅ `deploy_model.sh`
   - ✅ `run_experiments.py`
   - ❌ `script1.sh`

2. **Shebang строки**: Всегда включайте подходящие shebang строки для возможности выполнения
   ```bash
   #!/bin/bash
   ```
   ```python
   #!/usr/bin/env python3
   ```

3. **Документация**: Включайте заголовочный комментарий объясняющий что делает скрипт
   ```bash
   #!/bin/bash
   # deploy_model.sh - Развертывает обученную модель в продакшен
   # Использование: ./scripts/deploy_model.sh [--stage] [--prod]
   ```

4. **Обработка ошибок**: Включайте базовую обработку ошибок
   ```bash
   set -e  # Выход при любой ошибке
   ```

5. **Идемпотентность**: Делайте скрипты идемпотентными когда возможно (безопасны для многократного запуска)

6. **Зависимости**: Четко документируйте любые внешние зависимости

## Общие шаблоны скриптов

### Шаблон Bash скрипта
```bash
#!/bin/bash
# Краткое описание того что делает скрипт

set -e  # Выход при ошибке

# Функция для вывода справки
usage() {
    echo "Использование: $0 [ОПЦИИ]"
    echo "Опции:"
    echo "  -h, --help    Показать эту справку"
    echo "  --verbose     Включить подробный вывод"
}

# Разбор аргументов командной строки
VERBOSE=false
while [[ $# -gt 0 ]]; do
    case $1 in
        -h|--help)
            usage
            exit 0
            ;;
        --verbose)
            VERBOSE=true
            shift
            ;;
        *)
            echo "Неизвестная опция: $1"
            usage
            exit 1
            ;;
    esac
done

# Основная логика скрипта здесь
echo "Запуск скрипта..."
if [ "$VERBOSE" = true ]; then
    echo "Включен подробный режим"
fi
```

### Шаблон Python скрипта
```python
#!/usr/bin/env python3
"""
Краткое описание того что делает скрипт

Использование:
    python scripts/script_name.py [ОПЦИИ]
"""

import argparse
import sys

def main():
    parser = argparse.ArgumentParser(description=__doc__)
    parser.add_argument('--verbose', '-v', action='store_true', 
                        help='Включить подробный вывод')
    
    args = parser.parse_args()
    
    print("Запуск скрипта...")
    if args.verbose:
        print("Включен подробный режим")

if __name__ == '__main__':
    main()
```

## Интеграция с Makefile

Большинство скриптов в этой директории интегрированы с Makefile проекта для удобного выполнения:
```bash
make install      # Запускает скрипт установки
make test         # Запускает тесты
make data         # Обрабатывает данные
make train        # Обучает модель
make evaluate     # Оценивает модель
```

Проверьте корневой Makefile для всех доступных команд.
